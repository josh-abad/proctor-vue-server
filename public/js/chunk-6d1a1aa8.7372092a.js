(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d1a1aa8"],{"0ccb":function(e,t,n){var i=n("50c4"),r=n("1148"),a=n("1d80"),c=Math.ceil,s=function(e){return function(t,n,s){var o,u,d=String(a(t)),l=d.length,f=void 0===s?" ":String(s),m=i(n);return m<=l||""==f?d:(o=m-l,u=r.call(f,c(o/f.length)),u.length>o&&(u=u.slice(0,o)),e?d+u:u+d)}};e.exports={start:s(!1),end:s(!0)}},1148:function(e,t,n){"use strict";var i=n("a691"),r=n("1d80");e.exports="".repeat||function(e){var t=String(r(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},1154:function(e,t,n){"use strict";var i=n("7a23");function r(e,t,n,r,a,c){var s=Object(i["A"])("BaseButton"),o=Object(i["A"])("AppModal");return Object(i["s"])(),Object(i["f"])("div",null,[Object(i["j"])(s,{id:"btn-open",onClick:t[1]||(t[1]=function(t){return e.modalOpen=!0}),prominent:e.prominent},{default:Object(i["M"])((function(){return[Object(i["z"])(e.$slots,"default")]})),_:3},8,["prominent"]),(Object(i["s"])(),Object(i["f"])(i["b"],{to:"#modals"},[Object(i["j"])(o,{open:e.modalOpen,onClose:t[3]||(t[3]=function(t){return e.modalOpen=!1})},{header:Object(i["M"])((function(){return[Object(i["i"])(Object(i["F"])(e.header),1)]})),body:Object(i["M"])((function(){return[Object(i["i"])(Object(i["F"])(e.message),1)]})),action:Object(i["M"])((function(){return[Object(i["j"])(s,{onClick:t[2]||(t[2]=function(t){return e.$emit("confirm")}),prominent:""},{default:Object(i["M"])((function(){return[Object(i["i"])(Object(i["F"])(e.actionLabel),1)]})),_:1})]})),_:1},8,["open"])]))])}var a=n("41df"),c=n("82ea"),s=Object(i["k"])({name:"ModalButton",components:{BaseButton:c["a"],AppModal:a["a"]},props:{actionLabel:{type:String,default:"Confirm"},header:{type:String,required:!0},message:{type:String,required:!0},prominent:{type:Boolean,default:!1}},emits:["confirm"],data:function(){return{modalOpen:!1}}});s.render=r;t["a"]=s},1269:function(e,t,n){"use strict";var i=n("7a23"),r={class:"rounded-lg p-6 bg-gradient-to-r from-green-600 via-green-500 to-green-400 shadow-lg"},a={class:"flex justify-between"},c={class:"text-3xl text-white font-bold"},s=Object(i["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"},null,-1);function o(e,t,n,o,u,d){var l=Object(i["A"])("Breadcrumbs");return Object(i["s"])(),Object(i["f"])("div",r,[Object(i["j"])("div",a,[Object(i["j"])("div",c,[Object(i["z"])(e.$slots,"default")]),e.hideMenu?Object(i["g"])("",!0):(Object(i["s"])(),Object(i["f"])("svg",{key:0,class:"fill-current text-white w-6 h-6 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:t[1]||(t[1]=function(t){return e.$emit("menu-clicked")})},[s]))]),e.links?(Object(i["s"])(),Object(i["f"])(l,{key:0,class:"mt-2",links:e.links},null,8,["links"])):Object(i["g"])("",!0)])}n("b0c0");var u={class:"flex items-center"},d=Object(i["j"])("svg",{class:"ml-1 stroke-current w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(i["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1);function l(e,t,n,r,a,c){var s=Object(i["A"])("router-link");return Object(i["s"])(),Object(i["f"])("ol",u,[(Object(i["s"])(!0),Object(i["f"])(i["a"],null,Object(i["y"])(e.linksMinusLast,(function(e,t){return Object(i["s"])(),Object(i["f"])("li",{key:t,class:"mr-1 flex items-center text-green-200"},[Object(i["j"])(s,{to:e.url},{default:Object(i["M"])((function(){return[Object(i["i"])(Object(i["F"])(e.name),1)]})),_:2},1032,["to"]),d])})),128)),Object(i["j"])("li",null,[Object(i["j"])(s,{to:e.lastLink.url,class:"text-white"},{default:Object(i["M"])((function(){return[Object(i["i"])(Object(i["F"])(e.lastLink.name),1)]})),_:1},8,["to"])])])}n("fb6a");var f=Object(i["k"])({name:"Breadcrumbs",props:{links:{type:Array,required:!0}},computed:{lastLink:function(){return this.links[this.links.length-1]},linksMinusLast:function(){return this.links.slice(0,this.links.length-1)}}});f.render=l;var m=f,b=Object(i["k"])({name:"PageHeader",components:{Breadcrumbs:m},props:{links:{type:Array,required:!1},hideMenu:{type:Boolean,default:!1}},emits:["menu-clicked"]});b.render=o;t["a"]=b},"14c3":function(e,t,n){var i=n("c6b6"),r=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"2f54":function(e,t,n){"use strict";n("6064")},"3a0e":function(e,t,n){"use strict";var i=n("7a23"),r=Object(i["P"])("data-v-820b8dc6");Object(i["v"])("data-v-820b8dc6");var a={class:"flex items-center"},c={key:0,class:"ml-2"},s={ref:"video",width:"100",height:"60",autoplay:"",muted:""},o={key:0,class:"webcam-timer-display"},u={class:"timer"},d=Object(i["j"])("h3",{class:"timer-header"},"Detection Timer",-1),l={class:"timer-remaining"},f={class:"timer-status"},m={class:"timer"},b=Object(i["j"])("h3",{class:"timer-header"},"Identification Timer",-1),h={class:"timer-remaining"},p={class:"timer-status"};Object(i["t"])();var j=r((function(e,t,n,r,j,v){var O,g,w,x,y,k,I,S,T=Object(i["A"])("EyeIcon");return Object(i["s"])(),Object(i["f"])("div",null,[Object(i["j"])("div",a,[Object(i["j"])(T,{on:e.cameraOn,detected:e.faceSeen,identified:e.faceIdentified},null,8,["on","detected","identified"]),e.debug?(Object(i["s"])(),Object(i["f"])("div",c,Object(i["F"])(e.faceIdentified?"Face Identified":e.faceSeen?"Face Detected":"No Face detected"),1)):Object(i["g"])("",!0)]),Object(i["N"])(Object(i["j"])("video",s,null,512),[[i["K"],e.cameraOn&&!e.hideVideo]]),e.debug?(Object(i["s"])(),Object(i["f"])("div",o,[Object(i["j"])("div",u,[d,Object(i["j"])("div",l," Remaining: "+Object(i["F"])(null!==(O=null===(g=e.detectionTimer)||void 0===g?void 0:g.remaining)&&void 0!==O?O:0)+" seconds ",1),Object(i["j"])("div",f," Status: "+Object(i["F"])(null!==(w=null===(x=e.detectionTimer)||void 0===x?void 0:x.status)&&void 0!==w?w:"stopped"),1)]),Object(i["j"])("div",m,[b,Object(i["j"])("div",h," Remaining: "+Object(i["F"])(null!==(y=null===(k=e.identificationTimer)||void 0===k?void 0:k.remaining)&&void 0!==y?y:0)+" seconds ",1),Object(i["j"])("div",p," Status: "+Object(i["F"])(null!==(I=null===(S=e.identificationTimer)||void 0===S?void 0:S.status)&&void 0!==I?I:"stopped"),1)])])):Object(i["g"])("",!0)])})),v=(n("4160"),n("caad"),n("d81d"),n("a9e3"),n("d3b7"),n("25f0"),n("2532"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),O=n("ab39"),g=n("8141"),w=n("219d"),x=Object(i["P"])("data-v-1985fbe8");Object(i["v"])("data-v-1985fbe8");var y={class:"icon"},k=Object(i["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),I=Object(i["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1),S={key:1,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},T=Object(i["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1);Object(i["t"])();var E=x((function(e,t,n,r,a,c){return Object(i["s"])(),Object(i["f"])("div",y,[e.on?(Object(i["s"])(),Object(i["f"])("svg",{key:0,class:{"icon-detected":e.detected,"icon-identified":e.identified},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[k,I],2)):(Object(i["s"])(),Object(i["f"])("svg",S,[T]))])})),M=Object(i["k"])({name:"EyeIcon",props:{on:{type:Boolean,default:!1},detected:{type:Boolean,default:!1},identified:{type:Boolean,default:!1}}});n("5e30");M.render=E,M.__scopeId="data-v-1985fbe8";var _=M;function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function F(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}var R=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];A(this,e),this._remaining=n,this.callback=t,this.duration=n,this._start=i?Date.now():0,this.timerId=i?window.setTimeout(this.callback,n):null,this._status=i?"active":"stopped"}return F(e,[{key:"start",value:function(){this.timerId&&clearTimeout(this.timerId),this._start=Date.now(),this.timerId=window.setTimeout(this.callback,this.duration),this._status="active"}},{key:"stop",value:function(){"active"===this._status&&(this.timerId&&clearTimeout(this.timerId),this._remaining=0,this._status="stopped")}},{key:"pause",value:function(){"active"===this._status&&(this.timerId&&clearTimeout(this.timerId),this._remaining=this.duration-(Date.now()-this._start),this._status="paused")}},{key:"resume",value:function(){"paused"===this._status&&(this.timerId&&clearTimeout(this.timerId),this._start=Date.now(),this.timerId=window.setTimeout(this.callback,this._remaining),this._status="active")}},{key:"remaining",get:function(){return"paused"===this._status?Math.floor(this._remaining/1e3):"active"===this._status?Math.floor((this.duration-(Date.now()-this._start))/1e3):0}},{key:"status",get:function(){return this._status}}]),e}(),$=!0,C="/models",N=Object(i["k"])({name:"Webcam",components:{EyeIcon:_},mixins:[w["a"]],props:{hideVideo:{type:Boolean,default:!1},detectionDuration:{type:Number,default:5},debug:{type:Boolean,default:!1}},emits:["no-face-seen","unidentified-face"],data:function(){return{faceSeen:!1,multipleFacesSeen:0,usersSeen:[],video:{},cameraOn:!1,detectionTimer:null,identificationTimer:null}},computed:{userName:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.fullName)||""},faceIdentified:function(){return 1===this.usersSeen.length&&this.usersSeen[0].includes(this.userName)},duration:function(){return 1e3*this.detectionDuration}},watch:{faceSeen:function(e){var t;this.detectionTimer&&(e?(this.detectionTimer.stop(),"paused"===(null===(t=this.identificationTimer)||void 0===t?void 0:t.status)&&this.identificationTimer&&this.identificationTimer.resume()):["stopped","paused"].includes(this.detectionTimer.status)&&(this.detectionTimer.start(),this.identificationTimer&&this.identificationTimer.pause()))},faceIdentified:function(e){var t;this.identificationTimer&&(e?this.identificationTimer.stop():["stopped","paused"].includes(this.identificationTimer.status)&&"stopped"===(null===(t=this.detectionTimer)||void 0===t?void 0:t.status)&&this.identificationTimer.start())}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.detectionTimer=new R(e.detectionTimeout,e.duration),e.identificationTimer=new R(e.identificationTimeout,e.duration),e.video=e.$refs.video,t.next=5,e.loadModels();case 5:return t.next=7,e.createFaceMatcher();case 7:if(n=t.sent,n){t.next=10;break}return t.abrupt("return");case 10:return e.video.addEventListener("play",e.startDetection(n)),t.next=13,e.startVideo();case 13:e.detectionTimer.start();case 14:case"end":return t.stop()}}),t)})))()},unmounted:function(){this.stopVideo(),this.detectionTimer&&this.detectionTimer.stop(),this.identificationTimer&&this.identificationTimer.stop()},methods:{detectionTimeout:function(){this.$emit("no-face-seen"),this.detectionTimer&&this.detectionTimer.start()},identificationTimeout:function(){this.$emit("unidentified-face"),this.identificationTimer&&this.identificationTimer.start()},loadModels:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([O["i"](C),O["g"](C),O["h"](C)]);case 2:case"end":return e.stop()}}),e)})))()},startDetection:function(e){var t=this;return function(){setInterval(Object(v["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O["d"](t.video,new O["c"]({inputSize:128})).withFaceLandmarks($).withFaceDescriptors();case 2:i=n.sent,r=i.map((function(t){return e.findBestMatch(t.descriptor)})),t.faceSeen=!!i.length,t.usersSeen=r.map((function(e){return e.toString()})),t.multipleFacesSeen=i.length;case 7:case"end":return n.stop()}}),n)}))),300)}},startVideo:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:{}});case 3:n=t.sent,e.video.srcObject=n,e.video.play(),e.cameraOn=!0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$store.dispatch(g["a"],t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},stopVideo:function(){var e,t=null===(e=this.video)||void 0===e?void 0:e.srcObject;t&&(t.getTracks().forEach((function(e){return e.stop()})),this.cameraOn=!1)},createFaceMatcher:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,i,r,a,c,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=null===(n=e.user)||void 0===n?void 0:n.referenceImageUrl,i){t.next=3;break}return t.abrupt("return",null);case 3:return t.prev=3,t.next=6,O["f"](encodeURI(i));case 6:return r=t.sent,t.next=9,O["e"](r,new O["c"]).withFaceLandmarks($).withFaceDescriptor();case 9:if(a=t.sent,a){t.next=12;break}throw new Error("No face detected for ".concat(e.userName,"."));case 12:return c=[a.descriptor],s=new O["b"](e.userName||"unknown",c),o=.6,t.abrupt("return",new O["a"](s,o));case 18:return t.prev=18,t.t0=t["catch"](3),t.abrupt("return",null);case 21:case"end":return t.stop()}}),t,null,[[3,18]])})))()}}});n("2f54");N.render=j,N.__scopeId="data-v-820b8dc6";t["a"]=N},4181:function(e,t,n){"use strict";var i=n("7a23"),r={class:"fixed inset-0"},a={class:"flex justify-center items-center"},c=Object(i["j"])("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1);function s(e,t){return Object(i["s"])(),Object(i["f"])("div",r,[Object(i["j"])("div",a,[c,Object(i["z"])(e.$slots,"default")])])}const o={};o.render=s;t["a"]=o},"41df":function(e,t,n){"use strict";var i=n("7a23"),r=Object(i["P"])("data-v-a1932e00");Object(i["v"])("data-v-a1932e00");var a={class:"modal-backdrop"},c={class:"modal"},s={class:"modal-header"},o=Object(i["i"])("Dialog Header"),u={class:"modal-body"},d=Object(i["i"])("Dialog body text"),l={class:"modal-footer"},f=Object(i["i"])("Cancel");Object(i["t"])();var m=r((function(e,t,n,m,b,h){var p=Object(i["A"])("BaseButton"),j=Object(i["B"])("click-outside");return Object(i["s"])(),Object(i["f"])(i["c"],{name:"modal-fade"},{default:r((function(){return[Object(i["N"])(Object(i["j"])("div",a,[Object(i["N"])(Object(i["j"])("div",c,[Object(i["j"])("header",s,[Object(i["z"])(e.$slots,"header",{},(function(){return[o]}))]),Object(i["j"])("section",u,[Object(i["z"])(e.$slots,"body",{},(function(){return[d]}))]),Object(i["j"])("footer",l,[Object(i["j"])(p,{onClick:e.closeModal},{default:r((function(){return[f]})),_:1},8,["onClick"]),Object(i["z"])(e.$slots,"action")])],512),[[j,{handler:e.closeModal,middleware:e.middleware}]])],512),[[i["K"],e.open]])]})),_:3})})),b=n("82ea"),h=Object(i["k"])({name:"AppModal",components:{BaseButton:b["a"]},props:{open:{type:Boolean,default:!1}},emits:["close"],watch:{open:function(e){if(e){var t=document.querySelector("body");t&&t.classList.add("overflow-hidden")}}},methods:{closeModal:function(){this.$emit("close");var e=document.querySelector("body");e&&e.classList.remove("overflow-hidden")},middleware:function(e){return"btn-open"!==e.target.id}}});n("a1ff");h.render=m,h.__scopeId="data-v-a1932e00";t["a"]=h},"4d90":function(e,t,n){"use strict";var i=n("23e7"),r=n("0ccb").start,a=n("9a0c");i({target:"String",proto:!0,forced:a},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5319:function(e,t,n){"use strict";var i=n("d784"),r=n("825a"),a=n("7b0b"),c=n("50c4"),s=n("a691"),o=n("1d80"),u=n("8aa5"),d=n("14c3"),l=Math.max,f=Math.min,m=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};i("replace",2,(function(e,t,n,i){var j=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=i.REPLACE_KEEPS_$0,O=j?"$":"$0";return[function(n,i){var r=o(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,i):t.call(String(r),n,i)},function(e,i){if(!j&&v||"string"===typeof i&&-1===i.indexOf(O)){var a=n(t,e,this,i);if(a.done)return a.value}var o=r(e),m=String(this),b="function"===typeof i;b||(i=String(i));var h=o.global;if(h){var w=o.unicode;o.lastIndex=0}var x=[];while(1){var y=d(o,m);if(null===y)break;if(x.push(y),!h)break;var k=String(y[0]);""===k&&(o.lastIndex=u(m,c(o.lastIndex),w))}for(var I="",S=0,T=0;T<x.length;T++){y=x[T];for(var E=String(y[0]),M=l(f(s(y.index),m.length),0),_=[],A=1;A<y.length;A++)_.push(p(y[A]));var B=y.groups;if(b){var F=[E].concat(_,M,m);void 0!==B&&F.push(B);var R=String(i.apply(void 0,F))}else R=g(E,m,M,_,B,i);M>=S&&(I+=m.slice(S,M)+R,S=M+E.length)}return I+m.slice(S)}];function g(e,n,i,r,c,s){var o=i+e.length,u=r.length,d=h;return void 0!==c&&(c=a(c),d=b),t.call(s,d,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,i);case"'":return n.slice(o);case"<":s=c[a.slice(1,-1)];break;default:var d=+a;if(0===d)return t;if(d>u){var l=m(d/10);return 0===l?t:l<=u?void 0===r[l-1]?a.charAt(1):r[l-1]+a.charAt(1):t}s=r[d-1]}return void 0===s?"":s}))}}))},"5e30":function(e,t,n){"use strict";n("68c5")},6064:function(e,t,n){},"68c5":function(e,t,n){},7806:function(e,t,n){"use strict";n.r(t);var i=n("7a23"),r={class:"p-4"},a={class:"mr-8 bg-dark-12 px-4 py-2 fixed bottom-0 right-0 z-20 rounded-t-lg shadow-lg flex space-x-2"},c={key:0},s={class:"mt-4 flex justify-between items-center"},o=Object(i["i"])("Submit"),u={class:"flex flex-col items-center"},d=Object(i["j"])("p",{class:"font-thin text-2xl"}," Sorry, you are not allowed to take this exam. ",-1),l=Object(i["i"])("Return to course"),f=Object(i["i"])(" Warning ");function m(e,t,n,m,b,h){var p=Object(i["A"])("Webcam"),j=Object(i["A"])("PageHeader"),v=Object(i["A"])("BaseExamItem"),O=Object(i["A"])("Timer"),g=Object(i["A"])("ModalButton"),w=Object(i["A"])("BasePanel"),x=Object(i["A"])("BaseButton"),y=Object(i["A"])("Center"),k=Object(i["A"])("AppModal");return Object(i["s"])(),Object(i["f"])("div",r,[(Object(i["s"])(),Object(i["f"])(i["b"],{to:"#modals"},[Object(i["j"])("div",a,[Object(i["j"])(p,{onNoFaceSeen:e.handleNoFaceSeen,onUnidentifiedFace:e.handleUnidentifiedFace,"hide-video":""},null,8,["onNoFaceSeen","onUnidentifiedFace"])])])),e.examCanStart&&e.exam&&e.attempt?(Object(i["s"])(),Object(i["f"])("div",c,[Object(i["j"])(j,{hideMenu:""},{default:Object(i["M"])((function(){return[Object(i["i"])(Object(i["F"])(e.exam.label),1)]})),_:1}),Object(i["j"])(w,{class:"mt-4"},{default:Object(i["M"])((function(){return[(Object(i["s"])(!0),Object(i["f"])(i["a"],null,Object(i["y"])(e.exam.examItems,(function(t,n){return Object(i["s"])(),Object(i["f"])(v,{key:n,"exam-item":t,"question-number":n+1,onAnswerChanged:e.handleAnswerChange},null,8,["exam-item","question-number","onAnswerChanged"])})),128)),Object(i["j"])("div",s,[Object(i["j"])(O,{end:e.attempt.endDate,onTimerEnded:e.handleSubmit},null,8,["end","onTimerEnded"]),Object(i["j"])(g,{header:"Submit Answers",message:"Are you sure you want to submit your answers?","action-label":"Submit",onConfirm:e.handleSubmit,prominent:""},{default:Object(i["M"])((function(){return[o]})),_:1},8,["onConfirm"])])]})),_:1})])):(Object(i["s"])(),Object(i["f"])(y,{key:1},{default:Object(i["M"])((function(){return[Object(i["j"])("div",u,[d,Object(i["j"])(x,{class:"mt-3",onClick:t[1]||(t[1]=function(t){return e.$router.push("/courses/".concat(e.courseId))}),prominent:""},{default:Object(i["M"])((function(){return[l]})),_:1})])]})),_:1})),(Object(i["s"])(),Object(i["f"])(i["b"],{to:"#modals"},[Object(i["j"])(k,{open:e.warningModalOpen,onClose:t[2]||(t[2]=function(t){return e.warningModalOpen=!1})},{header:Object(i["M"])((function(){return[f]})),body:Object(i["M"])((function(){return[Object(i["i"])(" Please refrain from leaving this page during the exam. You have "+Object(i["F"])(e.warningsLeft)+" "+Object(i["F"])(1===e.warningsLeft?"warning":"warnings")+" left. ",1)]})),_:1},8,["open"])]))])}n("99af"),n("c740"),n("45fc"),n("b0c0"),n("ac1f"),n("5319"),n("96cf");var b=n("1da1"),h=n("82ea"),p={class:"flex mt-3 shadow rounded-lg overflow-hidden"},j={class:"px-3 py-3 bg-gray-700 text-gray-400"},v={class:"pl-4 pr-12 py-3 bg-gray-800 w-full select-none"},O={class:"mt-4"},g={key:1},w={key:2};function x(e,t,n,r,a,c){var s=Object(i["A"])("BaseInput");return Object(i["s"])(),Object(i["f"])("div",p,[Object(i["j"])("div",j,Object(i["F"])(e.questionNumber),1),Object(i["j"])("div",v,[Object(i["i"])(Object(i["F"])(e.examItem.question)+" ",1),Object(i["j"])("div",O,["text"===e.examItem.questionType?(Object(i["s"])(),Object(i["f"])(s,{key:0,modelValue:e.answer,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.answer=t}),type:"text",onInput:t[2]||(t[2]=function(t){return e.$emit("answer-changed",{question:e.examItem.question,answer:e.answer})})},null,8,["modelValue"])):"multiple choice"===e.examItem.questionType?(Object(i["s"])(),Object(i["f"])("div",g,[(Object(i["s"])(!0),Object(i["f"])(i["a"],null,Object(i["y"])(e.examItem.choices,(function(n,r){return Object(i["s"])(),Object(i["f"])("div",{key:r},[Object(i["N"])(Object(i["j"])("input",{type:"radio",value:n,name:"Question ".concat(e.questionNumber),id:n,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.answer=t}),onChange:t[4]||(t[4]=function(t){return e.$emit("answer-changed",{question:e.examItem.question,answer:e.answer})})},null,40,["value","name","id"]),[[i["I"],e.answer]]),Object(i["j"])("label",{for:n,class:"ml-2"},Object(i["F"])("".concat(e.getNextAlphabetLetter(r),". ").concat(n)),9,["for"])])})),128))])):(Object(i["s"])(),Object(i["f"])("div",w,[(Object(i["s"])(!0),Object(i["f"])(i["a"],null,Object(i["y"])(e.examItem.choices,(function(n,r){return Object(i["s"])(),Object(i["f"])("div",{key:r},[Object(i["N"])(Object(i["j"])("input",{type:"checkbox",name:n,id:n,value:n,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.answer=t}),onChange:t[6]||(t[6]=function(t){return e.$emit("answer-changed",{question:e.examItem.question,answer:e.answer})})},null,40,["name","id","value"]),[[i["H"],e.answer]]),Object(i["j"])("label",{for:n,class:"ml-2"},Object(i["F"])(n),9,["for"])])})),128))]))])])])}n("a9e3");var y=n("b3b3"),k=Object(i["k"])({name:"ExamItem",components:{BaseInput:y["a"]},props:{examItem:{type:Object,required:!0},questionNumber:Number},emits:["answer-changed"],data:function(){var e;return e="text"===this.examItem.questionType||"multiple choice"===this.examItem.questionType?"":[],{alphabetStart:"a",answer:e}},methods:{getNextAlphabetLetter:function(e){return String.fromCharCode(this.alphabetStart.charCodeAt(0)+e)}}});k.render=x;var I=k,S=n("a784"),T={class:"flex items-center h-10 rounded overflow-hidden"},E=Object(i["j"])("div",{class:"w-2 h-full bg-green-500"},null,-1),M={class:"p-3 bg-gray-700 text-lg font-semibold"},_={key:0},A=Object(i["j"])("span",{class:"font-thin"},"h",-1),B={key:1},F=Object(i["j"])("span",{class:"font-thin"},"m",-1),R=Object(i["j"])("span",{class:"font-thin"},"s",-1);function $(e,t,n,r,a,c){return Object(i["s"])(),Object(i["f"])("div",T,[E,Object(i["j"])("div",M,["00"!==e.displayHours?(Object(i["s"])(),Object(i["f"])("span",_,[Object(i["i"])(Object(i["F"])(e.displayHours),1),A])):Object(i["g"])("",!0),"00"!==e.displayMinutes?(Object(i["s"])(),Object(i["f"])("span",B,[Object(i["i"])(Object(i["F"])(e.displayMinutes),1),F])):Object(i["g"])("",!0),Object(i["i"])(" "+Object(i["F"])(e.displaySeconds),1),R])])}n("d3b7"),n("25f0"),n("4d90");var C=n("5a0c"),N=n.n(C),q=Object(i["k"])({name:"Timer",props:{end:{type:[Date,String],required:!0}},emits:["timer-ended"],data:function(){return{displaySeconds:"0",displayMinutes:"0",displayHours:"0"}},computed:{seconds:function(){return 1e3},minutes:function(){return 60*this.seconds},hours:function(){return 60*this.minutes},days:function(){return 24*this.hours}},mounted:function(){this.countdown()},methods:{format:function(e){return e.toString().padStart(2,"0")},countdown:function(){var e=this,t=setInterval((function(){var n=N()(e.end).diff(new Date);if(n<0)return e.$emit("timer-ended"),void clearInterval(t);var i=Math.floor(n%e.days/e.hours),r=Math.floor(n%e.hours/e.minutes),a=Math.floor(n%e.minutes/e.seconds);e.displayMinutes=e.format(r),e.displaySeconds=e.format(a),e.displayHours=e.format(i)}),1e3)}}});q.render=$;var L=q,D=n("2d40"),P=n("8141"),U=n("19bf"),V=n("4181"),z=n("1269"),H=n("1154"),W=n("219d"),K=n("41df"),J=n("3a0e"),Y=Object(i["k"])({name:"ExamPage",components:{BaseExamItem:I,BaseButton:h["a"],Timer:L,BasePanel:U["a"],Center:V["a"],PageHeader:z["a"],ModalButton:H["a"],AppModal:K["a"],Webcam:J["a"]},mixins:[W["a"]],props:{courseId:{type:String,required:!0},examId:{type:String,required:!0},attemptId:{type:String,required:!0}},data:function(){var e=[];return{answers:e,hasToken:!1,warnings:0,maxWarnings:5,warningModalOpen:!1}},computed:{examCanStart:function(){return!!this.exam&&!!this.attempt&&this.hasToken&&this.activeExam===this.exam.id},exam:function(){return this.$store.getters.examByID(this.examId)},attempt:function(){return this.$store.getters.attemptByID(this.attemptId)},activeExam:function(){return this.$store.state.exams.activeExam},warningsExceeded:function(){return this.warnings===this.maxWarnings},warningsLeft:function(){return this.maxWarnings-this.warnings}},watch:{warningsExceeded:function(e){e&&this.handleSubmit()}},created:function(){this.examCanStart&&(window.addEventListener("beforeunload",this.promptBeforeLeaving),window.addEventListener("unload",this.handleUnload),window.addEventListener("blur",this.warn))},mounted:function(){this.exam&&(document.title="".concat(this.exam.label," in ").concat(this.exam.course.name," | Proctor Vue"),this.hasToken=S["a"].hasToken())},unmount:function(){window.removeEventListener("beforeunload",this.promptBeforeLeaving),window.removeEventListener("unload",this.handleUnload),window.removeEventListener("blur",this.warn),this.activeExam&&this.handleSubmit()},methods:{handleNoFaceSeen:function(){this.warnings++,this.$store.dispatch(P["a"],"No face seen for 10 seconds.")},handleUnidentifiedFace:function(){this.warnings++,this.$store.dispatch(P["a"],"Face unidentified for 10 seconds")},handleAnswerChange:function(e){var t=e.question,n=e.answer;if(this.answers.some((function(e){return e.question===t}))){var i=this.answers.findIndex((function(e){return e.question===t}));this.answers[i]={question:t,answer:n}}else this.answers.push({question:t,answer:n})},handleSubmit:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch(P["p"],{answers:e.answers,examId:e.examId});case 2:e.$store.commit(D["j"],null),e.$router.replace("/courses/".concat(e.courseId,"/exams/").concat(e.examId));case 4:case"end":return t.stop()}}),t)})))()},promptBeforeLeaving:function(e){e.preventDefault(),e.returnValue=""},handleUnload:function(){localStorage.setItem("pendingSubmission",JSON.stringify({answers:this.answers,examId:this.examId,submittedDate:new Date})),this.$store.commit(D["j"],null)},warn:function(){if(!this.warningsExceeded){if(this.warnings++,"granted"===Notification.permission){var e=new Notification("Return to exam");e.addEventListener("click",(function(){window.focus()}))}else Notification.requestPermission();this.warningModalOpen=!0}}}});Y.render=m;t["default"]=Y},"8aa5":function(e,t,n){"use strict";var i=n("6547").charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},9263:function(e,t,n){"use strict";var i=n("ad6d"),r=n("9f7f"),a=RegExp.prototype.exec,c=String.prototype.replace,s=a,o=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],l=o||d||u;l&&(s=function(e){var t,n,r,s,l=this,f=u&&l.sticky,m=i.call(l),b=l.source,h=0,p=e;return f&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),p=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(b="(?: "+b+")",p=" "+p,h++),n=new RegExp("^(?:"+b+")",m)),d&&(n=new RegExp("^"+b+"$(?!\\s)",m)),o&&(t=l.lastIndex),r=a.call(f?n:l,p),f?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:o&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),d&&r&&r.length>1&&c.call(r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),e.exports=s},"9a0c":function(e,t,n){var i=n("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},"9f7f":function(e,t,n){"use strict";var i=n("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a1ff:function(e,t,n){"use strict";n("a92b")},a92b:function(e,t,n){},ac1f:function(e,t,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},c740:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,a=n("44d2"),c=n("ae40"),s="findIndex",o=!0,u=c(s);s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!u},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},d784:function(e,t,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),a=n("b622"),c=n("9263"),s=n("9112"),o=a("species"),u=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),l=a("replace"),f=function(){return!!/./[l]&&""===/./[l]("a","$0")}(),m=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,l){var b=a(e),h=!r((function(){var t={};return t[b]=function(){return 7},7!=""[e](t)})),p=h&&!r((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[b]=/./[b]),n.exec=function(){return t=!0,null},n[b](""),!t}));if(!h||!p||"replace"===e&&(!u||!d||f)||"split"===e&&!m){var j=/./[b],v=n(b,""[e],(function(e,t,n,i,r){return t.exec===c?h&&!r?{done:!0,value:j.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),O=v[0],g=v[1];i(String.prototype,e,O),i(RegExp.prototype,b,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}l&&s(RegExp.prototype[b],"sham",!0)}}}]);
//# sourceMappingURL=chunk-6d1a1aa8.7372092a.js.map